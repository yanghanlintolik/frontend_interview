<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #canvas1 {
            border:1px solid #EEE;
        }
    </style>
</head>
<body>
    <canvas id="canvas1" width="120" height="50">111111</canvas>
</body>

<script type="text/javascript">
    // 获取canvas元素的dom对象的上下文context
    const canvas = document.getElementById('canvas1');
    const context = canvas.getContext('2d');
    // 随机数组
    const arr = [0,1,2,3,4,5,6,7,8,9,'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'];
    // 更新验证码
    canvas.addEventListener('click', drawCode);
    // 获取指定范围内随机整数
    function getRandom(min,max){
        return Math.floor(Math.random()*(max-min+1))+min;
    };

    drawCode();

    function drawCode(){
        // 清除画布内容
        canvas.width = 120;
        canvas.height = 50;
        // 绘制填充矩形
        context.beginPath();
        context.fillStyle='orange';
        context.fillRect(0,0,120,50);
        // 验证码内容
        let str = '';
        // 绘制验证码
        for(let i=0;i<5;i++){
            const index = getRandom(0,35);
            str += arr[index];
        };
        context.beginPath();
        context.font = '22px 微软雅黑';
        context.fillStyle = '#333';
        context.fillText(str, 20, 30, 110);
    }
    


</script>    
</html>